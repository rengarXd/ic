<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<!--确保绘制和缩放的效果需要在<head>标签中添加 viewport 元数据标签-->
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<title>主header</title>
		<!--引入aui框架win-->
		<link rel="stylesheet" href="../css/aui-win.css" />
		<link rel="stylesheet" href="../css/fonts/iconfont.css" />
		<style>
			input[type="text"] {
				-webkit-appearance: none;
				-webkit-user-select: text;
				background-color: #fff;
				border-radius: 3px;
				outline: none;
			}
			body {
				background: #ffffff;
			}
			.display-none {
				display: none;
			}
			.brige {
				display: inline-block;
				position: absolute;
				top: 0;
				left: 51%;
				z-index: 100;
				background: red;
				border-radius: 50%;
				-webkit-border-radius: 50%;
				font-size: 11px;
				height: 16px;
				line-height: 16px;
				text-align: center;
				min-width: 16px;
				color: #fff;
				font-style: normal;
			}
			#aui-footer .aui-iconfont {
				font-size: 25px;
			}
			#aui-footer {
				background: #e5e5e5;
				/*border-top: 1px solid #e2e2e2;*/
			}
			.aui-bar-1d9dd5 {
				background: #1786FF;
			}
			.aui_bar_f4f4f4 {
				background: #f4f4f4;
			}
			#aui-footer li.active-1d9dd5, #aui-footer li.active-1d9dd5 span.aui-iconfont {
				color: #ff0000 !important;
				background: #fff;
			}
			.icon-size {
				font-size: 26px
			}
			#index_massage span:active {
				color: #34495E
			}
			.aui-bar .aui-iconfont {
				line-height: 30px;
			}
			#aui-footer .aui-bar-tab {
				background: #e5e5e5;
			}
			.serach_in {
				width: 95%;
				-moz-border-radius: 4px;
				-khtml-border-radius: 4px;
				-webkit-border-radius: 4px;
				height: 31px;
				margin-top: 6px;
				margin-left: 8px;
				font-size: 13px;
				color: #8fb2f6;
				border:0 !important;
				line-height: 19px;
				padding-left: 8px;
			}
			.serach_in:focus {
				border: 1px solid #1c84f3 !important;
			}
			.index_massage {
				text-align: center;
				font-size: 11px;
				line-height: 32px;
			}
			.index_massage i {
				line-height: 33px;
				font-size: 22px;
			}
			.index_massage p {
				line-height: 0px;
			}
			.index_massage:active {
				color: #ddd
			}
			/*搜索框搜索*/
			.index_serach_icon {
				position: relative;
				top: -16px;
				color: #1c84f3;
				font-size: 22px;
				right: 4px;
			}
			.header{ height:45px;}
		</style>
	</head>
	<body>
		<!--标题栏 start-->
		<header class="aui-bar aui-bar-nav aui-bar-1d9dd5 header" id='index-header'>
			<div class="aui-col-xs-10" style="line-height: 0; text-align: right">
				<input class="serach_in aui-input" type="text" placeholder="大家都在搜：狗狗在哪儿 " id="input_box">
				<span class="iconfont icon-sousuo index_serach_icon"></span>
			</div>
			<div class="aui-col-xs-2 index_massage" id="index_massage">
				<i class="iconfont icon-xiaoxi"></i>
				<p>
					消息
				</p>
				<em class="brige" id="brige">8</em>
			</div>
		</header>
		<header class="aui-bar aui-bar-nav aui-bar-1d9dd5 display-none header" id='pet-header' style="background: #0099ff">
			<div class="aui-title" style="font-size: 14px;">
				硬件ID在线  电量56%
			</div>
			<a class="aui-pull-right"> <span class="aui-iconfont aui-icon-my"></span></a>
		</header>
		<header class="aui-bar aui-bar-nav aui-bar-1d9dd5 display-none header" id='friend-header'>
			<div class="aui-title">
				友邻
			</div>
		</header>
		<header class="aui-bar aui-bar-nav aui-bar-1d9dd5 display-none header" id='shop-header'>
			<div class="aui-title">
				市场
			</div>
		</header>
		<header class="aui-bar aui-bar-nav aui-bar-1d9dd5 display-none header" id='me-header'>
			<div class="aui-title">
				我的
			</div>
			<a class="aui-pull-right" style="line-height: 19px;padding-top: 7px;"> <span class="iconfont icon-iconshezhi" style="line-height: 23px;
			font-size: 20px;"></span>
			<p style="font-size: 10px;line-height: 9px;">
				设置
			</p></a>
		</header>
		<!--标题栏 end-->
		<footer class="aui-nav" id="aui-footer">
			<ul class="aui-bar-tab">
				<li class="active-1d9dd5" data-header="index-header" data-frameName="index" tapmode>
					<span class="aui-iconfont iconfont icon-shouye"></span>
					<p>
						首页
					</p>
				</li>
				<li data-header="pet-header" data-frameName="pet" tapmode>
					<span class="aui-iconfont iconfont icon-1"></span>
					<p>
						宠物
					</p>
				</li>
				<li data-header="friend-header" data-frameName="friend" tapmode>
					<span class="aui-iconfont iconfont icon-pengyouquan"></span>
					<p>
						友邻
					</p>
					<!--消息样式-->
					<em class="brige" id="brige">8</em>
					<!--消息样式-->
				</li>
				<li data-header="shop-header" data-frameName="shop" tapmode>
					<span class="aui-iconfont iconfont icon-gouwuche"></span>
					<p>
						市场
					</p>
				</li>
				<li data-header="me-header" data-frameName="me" tapmode>
					<span class="aui-iconfont iconfont icon-wode"></span>
					<p>
						我的
					</p>
				</li>
			</ul>
		</footer>
	</body>
	<!--封装了APICloud大量常用的类库，内置了DOM操作，模板引擎，表单验证等常用类库-->
	<script type="text/javascript" src="../script/AHelper.js"></script>
	<script type="text/javascript" src="../script/zepto.min.js"></script>
	<script type="text/javascript">
		//设置数组
		var frames = [];
		// 显示指定frame
		function showFrame(frameName) {
			$("#aui-footer li").each(function() {
				var fName = $(this).attr("data-frameName");
				if (fName != frameName) {
					H.$setFrameStatus(fName, true);
				} else {
					H.$setFrameStatus(fName, false);
				}
			});
		}

		Zepto(function($) {
			$("#aui-footer").on("tap", "li", function() {
				var that = $(this);
				var headerId = that.attr("data-header");
				var frameName = that.attr("data-frameName");
				that.addClass("active-1d9dd5").siblings("#aui-footer li").removeClass("active-1d9dd5");
				$("#" + headerId).removeClass("display-none").siblings(".header").addClass("display-none");
				showFrame(frameName);
				if (frames.indexOf(frameName) == -1) {
					frames.push(frameName);
					// 打开新的frame
					H.$openFrameWithNav(headerId, {
						url : frameName + "/" + frameName + "_body.html",
						name : frameName,
						bounces : false
					}, 'aui-footer');
				}
			});
			$("#index_massage").on('click', function() {
				H.$openWin('massage_header', 'index/massage_header.html');
			});
			$("#input_box").on('click', function() {
				H.$openWin('search_header', 'index/search_header.html');
			});
		});
		//所有的代码都写在H.ready(function(){})
		H.ready(function() {
			api.setStatusBarStyle({
				style : 'light',
				color : '#000000'
			});
			frames.push('contact');
			// 打开新的frame
			H.$openFrameWithNav('index-header', {
				url : 'index/index' + "_body.html",
				name : 'index',
				bounces : true
			}, 'aui-footer');
			// 断开网络
			H.$addEventListener(function(ret, err) {
				H.$toast('已断开网络');
			}, 'offline');
			// 连接网络
			H.$addEventListener(function(ret, err) {
				H.$toast('已连接上网络');
				
			}, 'online');
			H.$dblclickToCloseApp(function() {
				//双击退出的时候执行的操作
			});
		});
	</script>
</html>